/*!
 * froala_editor v2.0.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(o){"function"==typeof define&&define.amd?define(["jquery"],o):"object"==typeof module&&module.exports?module.exports=function(r,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(r)),o(e),e}:o(jQuery)}(function(o){"use strict";o.extend(o.FroalaEditor.POPUP_TEMPLATES,{"colors.picker":"[_BUTTONS_][_TEXT_COLORS_][_BACKGROUND_COLORS_]"}),o.extend(o.FroalaEditor.DEFAULTS,{colorsText:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsBackground:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorsDefaultTab:"text",colorsButtons:["colorsBack","|","-"]}),o.FroalaEditor.PLUGINS.colors=function(r){function e(){var o=r.$tb.find('.fr-command[data-cmd="color"]'),e=r.popups.get("colors.picker");if(e||(e=a()),!e.hasClass("fr-active")){r.popups.setContainer("colors.picker",r.$tb),l(e.find(".fr-selected-tab").attr("data-param1"));var t=o.offset().left+o.outerWidth()/2,s=o.offset().top+(r.opts.toolbarBottom?10:o.outerHeight()-10);r.popups.show("colors.picker",t,s,o.outerHeight())}}function t(){r.popups.hide("colors.picker")}function a(){var o='<div class="fr-buttons fr-colors-buttons">';r.opts.toolbarInline&&r.opts.colorsButtons.length>0&&(o+=r.button.buildList(r.opts.colorsButtons)),o+=s()+"</div>";var e={buttons:o,text_colors:c("text"),background_colors:c("background")},t=r.popups.create("colors.picker",e);return t}function s(){var o='<div class="fr-colors-tabs">';return o+='<span class="fr-colors-tab '+("background"==r.opts.colorsDefaultTab?"":"fr-selected-tab ")+'fr-command" data-param1="text" data-cmd="colorChangeSet" title="'+r.language.translate("Text")+'">'+r.language.translate("Text")+"</span>",o+='<span class="fr-colors-tab '+("background"==r.opts.colorsDefaultTab?"fr-selected-tab ":"")+'fr-command" data-param1="background" data-cmd="colorChangeSet" title="'+r.language.translate("Background")+'">'+r.language.translate("Background")+"</span>",o+"</div>"}function c(o){for(var e="text"==o?r.opts.colorsText:r.opts.colorsBackground,t='<div class="fr-color-set fr-'+o+"-color"+(r.opts.colorsDefaultTab==o||"text"!=r.opts.colorsDefaultTab&&"background"!=r.opts.colorsDefaultTab&&"text"==o?" fr-selected-set":"")+'">',a=0;a<e.length;a++)0!==a&&a%r.opts.colorsStep===0&&(t+="<br>"),t+="REMOVE"!=e[a]?'<span class="fr-command fr-select-color" style="background: '+e[a]+';" data-cmd="'+o+'Color" data-param1="'+e[a]+'"></span>':'<span class="fr-command fr-select-color" data-cmd="'+o+'Color" data-param1="REMOVE" title="'+r.language.translate("Clear Formatting")+'"><i class="fa fa-eraser"></i></span>';return t+"</div>"}function l(e){var t,a=r.popups.get("colors.picker"),s=o(r.selection.element());for(t="background"==e?"background-color":"color",a.find(".fr-"+e+"-color .fr-select-color").removeClass("fr-selected-color");s.get(0)!=r.$el.get(0);){if("transparent"!=s.css(t)&&"rgba(0, 0, 0, 0)"!=s.css(t)){a.find(".fr-"+e+'-color .fr-select-color[data-param1="'+r.helpers.RGBToHex(s.css(t))+'"]').addClass("fr-selected-color");break}s=s.parent()}}function n(o,r){o.hasClass("fr-selected-tab")||(o.siblings().removeClass("fr-selected-tab"),o.addClass("fr-selected-tab"),o.parents(".fr-popup").find(".fr-color-set").removeClass("fr-selected-set"),o.parents(".fr-popup").find(".fr-color-set.fr-"+r+"-color").addClass("fr-selected-set"),l(r))}function i(e){"REMOVE"!=e?r.commands.applyProperty("background-color",r.helpers.HEXtoRGB(e)):(r.commands.applyProperty("background-color","#123456"),r.selection.save(),r.$el.find("span").each(function(e,t){var a=o(t),s=a.css("background-color");("#123456"===s||"#123456"===r.helpers.RGBToHex(s))&&a.replaceWith(a.html())}),r.selection.restore()),t()}function d(e){"REMOVE"!=e?r.commands.applyProperty("color",r.helpers.HEXtoRGB(e)):(r.commands.applyProperty("color","#123456"),r.selection.save(),r.$el.find("span").each(function(e,t){var a=o(t),s=a.css("color");("#123456"===s||"#123456"===r.helpers.RGBToHex(s))&&a.replaceWith(a.html())}),r.selection.restore()),t()}function p(){r.popups.hide("colors.picker"),r.toolbar.showInline()}function u(){}return{_init:u,showColorsPopup:e,hideColorsPopup:t,changeSet:n,background:i,text:d,back:p}},o.FroalaEditor.DefineIcon("colors",{NAME:"tint"}),o.FroalaEditor.RegisterCommand("color",{title:"Colors",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("colors.picker")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("colors.picker")):this.colors.showColorsPopup()}}),o.FroalaEditor.RegisterCommand("textColor",{undo:!0,callback:function(o,r){this.colors.text(r)}}),o.FroalaEditor.RegisterCommand("backgroundColor",{undo:!0,callback:function(o,r){this.colors.background(r)}}),o.FroalaEditor.RegisterCommand("colorChangeSet",{undo:!1,focus:!1,callback:function(o,r){var e=this.popups.get("colors.picker").find('.fr-command[data-cmd="'+o+'"][data-param1="'+r+'"]');this.colors.changeSet(e,r)}}),o.FroalaEditor.DefineIcon("colorsBack",{NAME:"arrow-left"}),o.FroalaEditor.RegisterCommand("colorsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.colors.back()}})});